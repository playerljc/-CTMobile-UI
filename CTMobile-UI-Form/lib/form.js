"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=_default;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_jquery=_interopRequireDefault(require("jquery")),_lodash=_interopRequireDefault(require("lodash")),_requireInputTypes=["text","number","email","url","tel","date","week","datetime","datetime-local","image","month","time","password","range","search"],_insetMaterialLabel={label:'<%if(label) {%>\n      <div class="label">\n        <%if(require) {%><i class="require"></i><%}%>\n        <%=label%>\n      </div>\n      <%}%>',input:"     <%=input%>"},_rangeTipTemplate=_lodash.default.template("<%=minLength%> / <%=maxLength%>"),_templates={layout:{outset:_lodash.default.template('<div class="ct-form-control <%=type%> <%=labelposition%> <%=labelalign%>">\n           <div class="ct-form-control-inner">\n             <div class="label">\n             <%if(require) {%><i class="require"></i><%}%>\n             <%=label%>\n             </div>\n             <div class="controlWrap <%=full%>"><%=control%></div>\n           </div>\n           <div class="tooltipwrap">\n              <div class="errormessage"></div>\n              <div class="tooltipfixed">\n              <%if(tooltip){%><div class="tooltip"><%=tooltip%></div><%}%>\n              <%if(rangetip){%><div class="rangetip"><%=rangetip%></div><%}%>\n              </div>\n           </div>\n        </div>'),inset:{default:_lodash.default.template('<div class="ct-form-control default labelleft labelinset">\n             <div class="ct-form-control-inner">\n               <%=control%>\n             </div>\n             <div class="tooltipwrap">\n              <div class="errormessage"></div>\n              <div class="tooltipfixed">\n              <%if(tooltip){%><div class="tooltip"><%=tooltip%></div><%}%>\n              <%if(rangetip){%><div class="rangetip"><%=rangetip%></div><%}%>\n              </div>\n             </div>\n           </div>'),material:_lodash.default.template('<div class="ct-form-control material labelleft labelinset">\n             <div class="ct-form-control-inner">\n               <%=control%>\n             </div>\n             <div class="tooltipwrap">\n              <div class="errormessage"></div>\n              <div class="tooltipfixed">\n              <%if(tooltip){%><div class="tooltip"><%=tooltip%></div><%}%>\n              <%if(rangetip){%><div class="rangetip"><%=rangetip%></div><%}%>\n              </div>\n             </div>\n           </div>')}},controls:{clearinput:_lodash.default.template('<div class="ct-form-clearinput <%=type%> <%=full%>">\n           <div class="inner <%=labelalign%>">\n             <%if(inset && type === "material"){%>\n             '.concat(_insetMaterialLabel.input+_insetMaterialLabel.label,"\n             <%}else{%>\n             ").concat(_insetMaterialLabel.label+_insetMaterialLabel.input,'\n             <%}%>\n             <%if(border){%><div class="border"></div><%}%>\n           </div>\n           <div class="ct-form-tool"><span class="clear"></span></div>\n        </div>')),pwdtoggle:_lodash.default.template('<div class="ct-form-clearinput ct-form-pwdtoggle <%=type%> <%=full%>">\n           <div class="inner <%=labelalign%>">\n             <%if(inset && type === "material"){%>\n             '.concat(_insetMaterialLabel.input+_insetMaterialLabel.label,"\n             <%}else{%>\n             ").concat(_insetMaterialLabel.label+_insetMaterialLabel.input,'\n             <%}%>\n             <%if(border){%><div class="border"></div><%}%>\n           </div>\n           <div class="ct-form-tool">\n             <span class="toggle"></span>\n             <span class="clear"></span>\n           </div>\n        </div>')),autoheighttextarea:_lodash.default.template('<div class="ct-form-expandingarea <%=type%> <%=full%>">\n           <div class="inner <%=labelalign%>">\n              <%if(label) {%>\n              <div class="label">\n                <%if(require) {%><i class="require"></i><%}%>\n                <%=label%>\n              </div>\n              <%}%>\n              <div class="ct-form-expandingarea-inner">\n               <pre><span></span><br></pre>\n               <%=input%>\n              </div>\n              <%if(border){%><div class="border"></div><%}%>\n           </div>\n        </div>'),select:_lodash.default.template('<div class="ct-form-select <%=type%> <%=full%>">\n           <div class="inner <%=labelalign%>">\n              <%if(label) {%>\n              <div class="label">\n                <%if(require) {%><i class="require"></i><%}%>\n                <%=label%>\n              </div>\n              <%}%>\n              <%=input%>\n              <%if(border){%><div class="border"></div><%}%>\n           </div>\n         </div>'),radio:_lodash.default.template('<div class="ct-form-radio <%=type%>">\n           <%=input%>\n           <div class="radio">\n              <div class="inner"></div>\n           </div>\n         </div>'),checkbox:_lodash.default.template('<div class="ct-form-checkbox <%=type%>">\n           <%=input%>\n           <div class="checkbox"></div>\n         </div>'),switch:_lodash.default.template('<div class="ct-form-switch <%=type%>">\n           <%=input%>\n           <div class="checkbox"></div>\n         </div>'),slider:_lodash.default.template('<div class="ct-form-slider <%=type%>">\n          <%=input%>\n         </div>'),spinner:_lodash.default.template('<div class="ct-form-spinner <%=type%>">\n           <%=input%>\n           <a class="minus"></a>\n           <a class="plus"></a>\n         </div>'),radiogroup:_lodash.default.template('<div class="ct-form-radiogroup-wrap <%=type%>">\n           <%=input%>\n         </div>'),checkboxgroup:_lodash.default.template('<div class="ct-form-checkboxgroup-wrap <%=type%>">\n           <%=input%>\n         </div>')}},_containers={autoheighttextarea:renderAutoheighttextarea,clearinput:renderClearinput,pwdtoggle:renderPwdToggle,select:renderSelect,radio:renderRadio,checkbox:renderCheckbox,switch:renderSwitch,slider:renderSlider,spinner:renderSpinner,radiogroup:renderRadioGroup,checkboxgroup:renderCheckboxGroup},_validateChainConfig=[{isValidate:["data-ctform-config-require"],validate:RequireChain},{isValidate:["data-ctform-config-minlength","data-ctform-config-maxlength"],validate:PatternChain},{isValidate:["data-ctform-config-pattern"],validate:LengthChain}],_patterns={};function makeExpandingArea(a,e){if(a.dataset.render)return!1;var t,r=this,i=a.dataset.ctformConfigName,n=createContainer(a,e,function(e){var t=e.querySelector("textarea");t.parentNode.replaceChild(a.cloneNode(!0),t)}),l=n.querySelector("textarea"),o=n.querySelector("span"),s=n.querySelector(".rangetip");s&&(t=parseInt(l.dataset.ctformConfigMaxlength),l.setAttribute("maxlength","".concat(t)));var c=n.querySelector(".ct-form-expandingarea-inner");l.dataset.render="true",l.addEventListener("input",function(){o.textContent=l.value,s&&this.value.length<=t&&(s.innerText=_rangeTipTemplate({minLength:this.value.length,maxLength:t}))},!1),l.addEventListener("focus",function(e){e.relatedTarget||r.hideErrorMessageTip(i),a.dataset.ctformConfigInset&&(c.classList.contains("focus")||c.classList.add("focus"))}),l.addEventListener("blur",function(){a.dataset.ctformConfigInset&&c.classList.contains("focus")&&c.classList.remove("focus")}),o.textContent=l.value,n.querySelector(".ct-form-expandingarea").className+=" active"}function makeClearInput(a,e){if(a.dataset.render)return!1;var t=createContainer(a,e,function(e){var t=e.querySelector("input");t.parentNode.replaceChild(a.cloneNode(!0),t)});t.querySelector("input").dataset.render="true",clearInputEvent.call(this,t)}function makePwdToggle(a,e){if(a.dataset.render)return!1;var t=createContainer(a,e,function(e){var t=e.querySelector("input");t.parentNode.replaceChild(a.cloneNode(!0),t)}),r=t.querySelector("input");r.dataset.render="true";var i=t.querySelector(".toggle");i.addEventListener("click",function(){i.classList.contains("close")?(r.type="password",i.classList.remove("close")):(r.type="text",i.classList.add("close"))},!1),clearInputEvent.call(this,t)}function makeSelects(a,e){if(a.dataset.render)return!1;var t=this,r=a.dataset.ctformConfigName,i=createContainer(a,e,function(e){var t=e.querySelector("select");t.parentNode.replaceChild(a.cloneNode(!0),t)}).querySelector("select");i.value=a.value,i.dataset.render="true",i.addEventListener("focus",function(e){e.relatedTarget||t.hideErrorMessageTip(r)})}function makeRadioGroups(a,e){if(a.dataset.render)return!1;var t=this,r=a.dataset.ctformConfigName,i=createContainer(a,e,function(e){var t=e.querySelector(".ct-form-radiogroup");t.parentNode.replaceChild(a.cloneNode(!0),t)}).querySelector(".ct-form-radiogroup");i.dataset.render="true",i.addEventListener("click",function(e){e.relatedTarget||t.hideErrorMessageTip(r)})}function makeCheckboxGroup(a,e){if(a.dataset.render)return!1;var t=this,r=a.dataset.ctformConfigName,i=createContainer(a,e,function(e){var t=e.querySelector(".ct-form-checkboxgroup");t.parentNode.replaceChild(a.cloneNode(!0),t)}).querySelector(".ct-form-checkboxgroup");i.dataset.render="true",i.addEventListener("click",function(){t.hideErrorMessageTip(r)})}function makeCheckboxs(a,e){if(a.dataset.render)return!1;var t=this,r=a.dataset.ctformConfigName,i=createContainer(a,e,function(e){var t=e.querySelector('input[type="checkbox"]');t.parentNode.replaceChild(a.cloneNode(!0),t)}),n=i.querySelector('input[type="checkbox"]');n.dataset.render="true",i.addEventListener("click",function(e){if(e.relatedTarget||t.hideErrorMessageTip(r),n.disabled||n.readOnly)return!1;n.checked?n.checked=!1:n.checked=!0})}function makeRadios(a,e){if(a.dataset.render)return!1;var t=this,r=a.dataset.ctformConfigName,i=createContainer(a,e,function(e){var t=e.querySelector('input[type="radio"]');t.parentNode.replaceChild(a.cloneNode(!0),t)}),n=i.querySelector('input[type="radio"]');n.dataset.render="true",i.addEventListener("click",function(e){if(e.relatedTarget||t.hideErrorMessageTip(r),n.disabled||n.readOnly)return!1;n.checked?n.checked=!1:n.checked=!0})}function makeSwitchs(a,e){if(a.dataset.render)return!1;var t=this,r=a.dataset.ctformConfigName,i=createContainer(a,e,function(e){var t=e.querySelector('input[type="checkbox"]');t.parentNode.replaceChild(a.cloneNode(!0),t)}),n=i.querySelector('input[type="checkbox"]');n.dataset.render="true",i.addEventListener("click",function(e){if(e.relatedTarget||t.hideErrorMessageTip(r),n.disabled||n.readOnly)return!1;n.checked?n.checked=!1:n.checked=!0})}function makeSliders(a,e){if(a.dataset.render)return!1;var t=this,r=a.dataset.ctformConfigName,i=createContainer(a,e,function(e){var t=e.querySelector('input[type="range"]');t.parentNode.replaceChild(a.cloneNode(!0),t)}).querySelector('input[type="range"]');i.dataset.render="true",i.addEventListener("focus",function(e){e.relatedTarget||t.hideErrorMessageTip(r)})}function makeSpinners(a,e){if(a.dataset.render)return!1;var t=this,r=a.dataset.ctformConfigName,i=createContainer(a,e,function(e){var t=e.querySelector('input[type="number"].ios');t.parentNode.replaceChild(a.cloneNode(!0),t)}),n=parseInt(a.getAttribute("min"))||1,l=parseInt(a.getAttribute("max"))||100,o=parseInt(a.getAttribute("setp"))||1,s=parseInt(a.value)||0;i.querySelector(".ct-form-spinner").className+=a.className;var c=i.querySelector('input[type="number"].ios'),d=i.querySelector(".plus"),u=i.querySelector(".minus");c.dataset.render="true",d.addEventListener("click",function(){return t.hideErrorMessageTip(r),!c.disabled&&!c.readOnly&&(!(l<=s)&&(s+=l<s+o?s+o-l:o,void(c.value=s)))}),u.addEventListener("click",function(){return t.hideErrorMessageTip(r),!c.disabled&&!c.readOnly&&(!(s<=n)&&(s-=s-o<n?o-n:o,void(c.value=s)))})}function renderAutoheighttextarea(e,t){for(var a=e.querySelectorAll("textarea"),r=a.length;r--;)makeExpandingArea.call(this,a[r],t)}function renderClearinput(e,t){for(var a=e.querySelectorAll('input[type="text"],\n     input[type="number"]:not(.ios),\n     input[type="email"],\n     input[type="url"],\n     input[type="tel"],\n     input[type="date"],\n     input[type="week"],\n     input[type="datetime"],\n     input[type="datetime-local"],\n     input[type="image"],\n     input[type="month"],\n     input[type="time"],\n     input[type="search"]'),r=a.length;r--;)makeClearInput.call(this,a[r],t)}function renderPwdToggle(e,t){for(var a=e.querySelectorAll('input[type="password"]'),r=a.length;r--;)makePwdToggle.call(this,a[r],t)}function renderCheckbox(e,t){for(var a=e.querySelectorAll('input[type="checkbox"]:not(.switch)'),r=a.length;r--;)makeCheckboxs.call(this,a[r],t)}function renderRadio(e,t){for(var a=e.querySelectorAll('input[type="radio"]'),r=a.length;r--;)makeRadios.call(this,a[r],t)}function renderSwitch(e,t){for(var a=e.querySelectorAll('input[type="checkbox"].switch'),r=a.length;r--;)makeSwitchs.call(this,a[r],t)}function renderSlider(e,t){for(var a=e.querySelectorAll('input[type="range"]'),r=a.length;r--;)makeSliders.call(this,a[r],t)}function renderSpinner(e,t){for(var a=e.querySelectorAll('input[type="number"].ios'),r=a.length;r--;)makeSpinners.call(this,a[r],t)}function renderSelect(e,t){for(var a=e.querySelectorAll("select"),r=a.length;r--;)makeSelects.call(this,a[r],t)}function renderRadioGroup(e,t){for(var a=e.querySelectorAll(".ct-form-radiogroup"),r=a.length;r--;)makeRadioGroups.call(this,a[r],t)}function renderCheckboxGroup(e,t){for(var a=e.querySelectorAll(".ct-form-checkboxgroup"),r=a.length;r--;)makeCheckboxGroup.call(this,a[r],t)}function clearInputEvent(e){var t,a=this,r=e.querySelector("input"),i=e.querySelector(".clear"),n=e.querySelector(".label"),l=e.querySelector(".rangetip"),o=r.dataset.ctformConfigName;l&&(t=parseInt(r.dataset.ctformConfigMaxlength),r.setAttribute("maxlength","".concat(t))),i.addEventListener("click",function(){r.value="",r.focus(),i.style.display="none",r.dataset.ctformConfigInset&&"material"===r.dataset.ctformConfigType&&n.classList.remove("animate")},!1),r.addEventListener("input",function(){l&&this.value.length<=t&&(l.innerText=_rangeTipTemplate({minLength:this.value.length,maxLength:t})),r.value?i.style.display="block":i.style.display="none",r.dataset.ctformConfigInset&&"material"===r.dataset.ctformConfigType&&(this.value?n.classList.contains("animate")||n.classList.add("animate"):n.classList.remove("animate"))},!1),r.addEventListener("focus",function(e){e.relatedTarget||a.hideErrorMessageTip(o),r.dataset.ctformConfigInset&&"material"===r.dataset.ctformConfigType&&n.classList.add("animate")}),r.addEventListener("blur",function(){if(r.dataset.ctformConfigInset&&"material"===r.dataset.ctformConfigType){if(this.value)return;n.classList.remove("animate")}})}function createContainer(e,t,a){var r,i=e.cloneNode(!0);i.classList.contains(e.dataset.ctformConfigType||"default")||i.classList.add(e.dataset.ctformConfigType||"default");var n=e.dataset.ctformConfigType||"default";if(r=e.dataset.ctformConfigInset?("default"!==n&&"material"!==n&&(n="default"),_templates.layout.inset[n]({tooltip:e.dataset.ctformConfigTooltip?e.dataset.ctformConfigTooltip:"",rangetip:getRangeTip(e),control:_templates.controls[t]({type:n,input:i.outerHTML||"",full:e.dataset.ctformConfigFull||"",labelalign:e.dataset.ctformConfigLabelalign||"",label:e.dataset.ctformConfigLabel||"",require:e.dataset.ctformConfigRequire||"",border:"material"!==n,inset:!0})})):_templates.layout.outset({type:n,labelposition:e.dataset.ctformConfigLabelposition||"",labelalign:e.dataset.ctformConfigLabelalign||"",require:e.dataset.ctformConfigRequire||"",label:e.dataset.ctformConfigLabel||"",full:e.dataset.ctformConfigFull||"",tooltip:e.dataset.ctformConfigTooltip?e.dataset.ctformConfigTooltip:"",rangetip:getRangeTip(e),control:_templates.controls[t]({type:n,input:i.outerHTML||"",full:"",labelalign:"",label:"",require:!1,border:!1,inset:!1})}),-1!==t.lastIndexOf("group")){var l=createDomByHtml(r),o=l.querySelector(".ct-form-radiogroup,.ct-form-checkboxgroup");o.innerHTML=o.innerHTML.replace(/data-ctform-config-require=["']require["']/gim,""),r=l.outerHTML}var s=createDomByHtml(r);return a&&a(s),e.parentNode.replaceChild(s,e),s}function createDomByHtml(e){var t=document.createElement("div");return t.innerHTML=e,t.firstChild}function getRangeTip(e){var t=e.dataset.ctformConfigMaxlength;t=parseInt(t);var a="";return isNaN(t)||(a=_rangeTipTemplate({minLength:0,maxLength:t})),a}function parentUntil(e,t){if(!t||!e)return null;var a=null,r=e;return function e(){r.classList.contains(t)?a=r:r!==document.body&&(r=r.parentElement,e())}(),a}function RequireChain(e){var t,a,r,i=!1,n=e.tagName.toLowerCase();return"input"===n?(t=e.type,-1!==_requireInputTypes.indexOf(t)&&e.value&&e.value.trim()&&(i=!0)):"textarea"===n?e.value&&e.value.trim()&&(i=!0):e.classList.contains("ct-form-radiogroup")||e.classList.contains("ct-form-checkboxgroup")?(a=e.dataset.ctformConfigGroupname,e.classList.contains("ct-form-radiogroup")?e.querySelector('input[type="radio"][name="'.concat(a,'"]:checked'))&&(i=!0):e.classList.contains("ct-form-checkboxgroup")&&0!==e.querySelectorAll('input[type="checkbox"][name="'.concat(a,'"]:checked')).length&&(i=!0)):i=!0,i||(r=e.dataset.ctformConfigName,this.showErrorTip(r,e.dataset.ctformConfigRequiremessage)),i}function LengthChain(e){var t,a,r,i,n,l=!1,o=e.tagName.toLowerCase();return i=parseInt(e.dataset.ctformConfigMinlength),n=parseInt(e.dataset.ctformConfigMaxlength),isNaN(i)||isNaN(n)?l=!0:"input"===o?(a=e.type,-1!==_requireInputTypes.indexOf(a)&&(t=e.value.trim()).length>=i&&t.length<=n&&(l=!0)):"textarea"===o?(t=e.value.trim()).length>=i&&t.length<=n&&(l=!0):l=!0,l||(r=e.dataset.ctformConfigName,this.showErrorTip(r,e.dataset.ctformConfigLengthmessage)),l}function PatternChain(e){var t,a,r,i=!1,n=e.tagName.toLowerCase(),l=e.dataset.ctformConfigPattern,o=_patterns[l]?_patterns[l]:l?new o(l):"";return"input"===n?(a=e.type,-1!==_requireInputTypes.indexOf(a)&&(t=e.value.trim(),i=!o||o.test(t))):i="textarea"!==n||(t=e.value.trim(),!o||o.test(t)),i||(r=e.dataset.ctformConfigName,this.showErrorTip(r,e.dataset.ctformConfigPatternmessage)),i}function _validateChain(e){for(var t,a,r=!0,i=!1,n=0;n<_validateChainConfig.length;n++){t=_validateChainConfig[n].isValidate,a=_validateChainConfig[n].validate;for(var l=0;l<t.length;l++)if(e.hasAttribute(t[l])){i=!0;break}if(i&&!(r=a.call(this,e)))break}return r}function _validate(e){this.hideErrorMessageAllTips();var t,a,r,i=this.el.querySelectorAll("[data-ctform-config-require],\n     [data-ctform-config-pattern],\n     [data-ctform-config-maxlength],\n     [data-ctform-config-minlength]"),n=!0;for(t=0;t<i.length&&(!(!(a=i[t]).disabled&&!a.readOnly)||_validateChain.call(this,a)||(n&&(r=a),n=!1,!e));t++);return r&&r.focus(),n}function _showTip(e,t,a){var r=this.el.querySelector('[data-ctform-config-name="'.concat(e,'"]'));if(!r)return!1;var i=parentUntil(r,"ct-form-control");if(!i)return!1;var n,l=(0,_jquery.default)(i);if("errortip"===a||"successtip"===a?("errortip"===a?i.classList.add("validerror"):i.classList.add("validsuccess"),n=l.find(" > .tooltipwrap > .errormessage")[0]):"tooltip"===a?n=l.find(" > .tooltipwrap > .tooltipfixed > .tooltip")[0]:"rangetip"===a&&(n=l.find(" > .tooltipwrap > .tooltipfixed > .rangetip")[0]),!n)return!1;n.innerText=t,n.style.display="block"}function _hideTip(e,t){var a=this.el.querySelector('[data-ctform-config-name="'.concat(e,'"]'));if(!a)return!1;var r=parentUntil(a,"ct-form-control");if(!r)return!1;var i,n,l,o=(0,_jquery.default)(r);"errortip"===t?(r.classList.remove("validerror"),r.classList.remove("validsuccess"),i=o.find(" > .tooltipwrap > .errormessage")[0]):"tooltip"===t?n=o.find(" > .tooltipwrap > .tooltipfixed > .tooltip")[0]:"rangetip"===t?l=o.find(" > .tooltipwrap > .tooltipfixed > .rangetip")[0]:"alltip"===t&&(r.classList.remove("validerror"),r.classList.remove("validsuccess"),i=o.find(" > .tooltipwrap > .errormessage")[0],n=o.find(" > .tooltipwrap > .tooltipfixed > .tooltip")[0],l=o.find(" > .tooltipwrap > .tooltipfixed > .rangetip")[0]),i&&(i.innerText="",i.style.display="none"),n&&(n.innerText="",n.style.display="none"),l&&(l.innerText="",l.style.display="none")}function init(){for(var e=[],t=[],a=0;a<this.types.length;a++)-1!==this.types[a].lastIndexOf("group")?e.push(this.types[a]):t.push(this.types[a]);for(var r=[].concat(e,t),i=0,n=r.length;i<n;i++)_containers[r[i]].call(this,this.el,r[i])}var Form=function(){function a(e,t){(0,_classCallCheck2.default)(this,a),this.el=e,this.$el=(0,_jquery.default)(this.el),this.types=t,init.call(this)}return(0,_createClass2.default)(a,[{key:"validatePropagation",value:function(){return _validate.call(this,!1)}},{key:"validateStopPropagation",value:function(){return _validate.call(this,!0)}},{key:"showToolTip",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";_showTip.call(this,e,t,"tooltip")}},{key:"showErrorTip",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";_showTip.call(this,e,t,"errortip")}},{key:"showSuccessTip",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";_showTip.call(this,e,t,"successtip")}},{key:"showRangeTip",value:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:"";_showTip.call(this,e,t,"rangetip")}},{key:"hideToolTip",value:function(e){_hideTip.call(this,e,"tooltip")}},{key:"hideErrorMessageTip",value:function(e){_hideTip.call(this,e,"errortip")}},{key:"hideErrorMessageAllTips",value:function(){this.$el.find(".ct-form-control.validerror,.ct-form-control.validsuccess").removeClass("validerror").removeClass("validsuccess"),this.$el.find(".ct-form-control .errormessage").text("").hide()}},{key:"hideRangeTip",value:function(e){_hideTip.call(this,e,"rangetip")}},{key:"hideAllTip",value:function(e){_hideTip.call(this,e,"alltip")}},{key:"getEntrys",value:function(){for(var e,t,a={},r=this.el.querySelectorAll("[data-ctform-config-name]"),i=0;i<r.length;i++)(e=r[i]).classList.contains("ct-form-radiogroup")||e.classList.contains("ct-form-checkboxgroup")?e.classList.contains("ct-form-radiogroup")?(t=e.querySelector('input[type="radio"]:checked'))&&(a[e.dataset.ctformConfigName]=t.value?t.value.trim():""):(t=e.querySelectorAll('input[type="checkbox"]:checked'))&&0!==t.length&&(a[e.dataset.ctformConfigName]=Array.prototype.map.call(t,function(e){return e.value?e.value.trim():""})):"input"!==e.tagName.toLowerCase()||"radio"!==e.type&&"checkbox"!==e.type?a[e.dataset.ctformConfigName]=e.value?e.value.trim():"":e.checked&&(a[e.dataset.ctformConfigName]=e.value?e.value.trim():"");return a}}]),a}();function _default(e,t){return new Form(e,t)}