{"version":3,"sources":["events.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","_classCallCheck2","_createClass2","Events","this","events","key","type","handler","index","handlers","findIndex","item","splice","keys","indexOf","push","_len","arguments","length","params","Array","_key","forEach","apply","_len2","_key2","document","dispatchEvent","CustomEvent","bubbles","cancelable","detail","_default"],"mappings":"AAAA,aAEA,IAAIA,uBAAyBC,QAAQ,gDAErCC,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAiB,aAAI,EAErB,IAAIE,iBAAmBN,uBAAuBC,QAAQ,0CAElDM,cAAgBP,uBAAuBC,QAAQ,uCAO/CO,OAEJ,WAIE,SAASA,KACP,EAAIF,iBAA0B,SAAGG,KAAMD,GACvCC,KAAKC,OAAS,GA8GhB,OArGA,EAAIH,cAAuB,SAAGC,EAAQ,CAAC,CACrCG,IAAK,SACLN,MAAO,SAAgBO,EAAMC,GAC3B,GAAIJ,KAAKC,OAAOE,GAAO,CACrB,IAAIE,EAAQL,KAAKC,OAAOE,GAAMG,SAASC,UAAU,SAAUC,GACzD,OAAOA,IAASJ,KAGH,IAAXC,GACFL,KAAKC,OAAOE,GAAMG,SAASG,OAAOJ,EAAO,MAU9C,CACDH,IAAK,UACLN,MAAO,SAAiBO,GACtB,OAAmD,IAA5CV,OAAOiB,KAAKV,KAAKC,QAAQU,QAAQR,KAOzC,CACDD,IAAK,QACLN,MAAO,SAAeO,GAChBH,KAAKC,OAAOE,KACdH,KAAKC,OAAOE,GAAMG,SAAW,MAOhC,CACDJ,IAAK,WACLN,MAAO,WACLI,KAAKC,OAAS,KAQf,CACDC,IAAK,KACLN,MAAO,SAAYO,EAAMC,GAClBJ,KAAKC,OAAOE,KACfH,KAAKC,OAAOE,GAAQ,CAClBG,SAAU,KAIdN,KAAKC,OAAOE,GAAMG,SAASM,KAAKR,KAQjC,CACDF,IAAK,UACLN,MAAO,SAAiBO,GACtB,IAAK,IAAIU,EAAOC,UAAUC,OAAQC,EAAS,IAAIC,MAAa,EAAPJ,EAAWA,EAAO,EAAI,GAAIK,EAAO,EAAGA,EAAOL,EAAMK,IACpGF,EAAOE,EAAO,GAAKJ,UAAUI,GAG3BlB,KAAKC,OAAOE,IACdH,KAAKC,OAAOE,GAAMG,SAASa,QAAQ,SAAUf,GAC3CA,EAAQgB,WAAM,EAAQJ,QAU1B,CAAC,CACHd,IAAK,UACLN,MAAO,SAAiBO,GACtB,IAAK,IAAIkB,EAAQP,UAAUC,OAAQC,EAAS,IAAIC,MAAc,EAARI,EAAYA,EAAQ,EAAI,GAAIC,EAAQ,EAAGA,EAAQD,EAAOC,IAC1GN,EAAOM,EAAQ,GAAKR,UAAUQ,GAGhCC,SAASC,cAAc,IAAIC,YAAYtB,EAAM,CAC3CuB,QAAS,OACTC,WAAY,OACZC,OAAQZ,SAIPjB,EApHT,GA2HI8B,SAAW9B,OACfJ,QAAiB,QAAIkC","file":"events.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = void 0;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\n/**\r\n * Events\r\n * @class\r\n * @classdesc\r\n */\nvar Events =\n/*#__PURE__*/\nfunction () {\n  /**\r\n   * @constructor\r\n   */\n  function Events() {\n    (0, _classCallCheck2[\"default\"])(this, Events);\n    this.events = {};\n  }\n  /**\r\n   * remove\r\n   * @param {type} type\r\n   * @param {Function} handler\r\n   */\n\n\n  (0, _createClass2[\"default\"])(Events, [{\n    key: \"remove\",\n    value: function remove(type, handler) {\n      if (this.events[type]) {\n        var index = this.events[type].handlers.findIndex(function (item) {\n          return item === handler;\n        });\n\n        if (index !== -1) {\n          this.events[type].handlers.splice(index, 1);\n        }\n      }\n    }\n    /**\r\n     * hasType\r\n     * @param {string} type\r\n     * @return {boolean}\r\n     */\n\n  }, {\n    key: \"hasType\",\n    value: function hasType(type) {\n      return Object.keys(this.events).indexOf(type) !== -1;\n    }\n    /**\r\n     * clear 清除一个type下的所有handler\r\n     * @param {string} type\r\n     */\n\n  }, {\n    key: \"clear\",\n    value: function clear(type) {\n      if (this.events[type]) {\n        this.events[type].handlers = [];\n      }\n    }\n    /**\r\n     * 清除所有\r\n     */\n\n  }, {\n    key: \"clearAll\",\n    value: function clearAll() {\n      this.events = {};\n    }\n    /**\r\n     * on\r\n     * @param {string} type\r\n     * @param {Function} handler\r\n     */\n\n  }, {\n    key: \"on\",\n    value: function on(type, handler) {\n      if (!this.events[type]) {\n        this.events[type] = {\n          handlers: []\n        };\n      }\n\n      this.events[type].handlers.push(handler);\n    }\n    /**\r\n     * trigger\r\n     * @param {string} type\r\n     * @param {Object} params\r\n     */\n\n  }, {\n    key: \"trigger\",\n    value: function trigger(type) {\n      for (var _len = arguments.length, params = new Array(_len > 1 ? _len - 1 : 0), _key = 1; _key < _len; _key++) {\n        params[_key - 1] = arguments[_key];\n      }\n\n      if (this.events[type]) {\n        this.events[type].handlers.forEach(function (handler) {\n          handler.apply(void 0, params);\n        });\n      }\n    }\n    /**\r\n     * document自定义事件的触发\r\n     * @param {string} - type\r\n     * @param {Object} - params\r\n     */\n\n  }], [{\n    key: \"trigger\",\n    value: function trigger(type) {\n      for (var _len2 = arguments.length, params = new Array(_len2 > 1 ? _len2 - 1 : 0), _key2 = 1; _key2 < _len2; _key2++) {\n        params[_key2 - 1] = arguments[_key2];\n      }\n\n      document.dispatchEvent(new CustomEvent(type, {\n        bubbles: 'true',\n        cancelable: 'true',\n        detail: params\n      }));\n    }\n  }]);\n  return Events;\n}();\n/**\r\n * 消息通知\r\n */\n\n\nvar _default = Events;\nexports[\"default\"] = _default;"]}