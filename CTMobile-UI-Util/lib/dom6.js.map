{"version":3,"sources":["dom6.js"],"names":["Object","defineProperty","exports","value","default","_default","getTopDom","target","selector","className","indexOf","parentDom","parentNode","document","body","off","on","once","addClass","el","classNames","arguments","length","undefined","split","i","classList","add","removeClass","remove","hasClass","contains","attr","property","insertAfter","newElement","targetElement","parent","lastChild","appendChild","insertBefore","nextSibling","createElement","html","dom","innerHTML","firstElementChild","prevSibling","result","index","children","getParentElementByTag","tag","element","popup","parentElement","tagParent","tagName","toLocaleLowerCase","Array","prototype","filter","call","t","nodeType","isTouch"],"mappings":"AAAA,aAEAA,OAAOC,eAAeC,QAAS,aAAc,CAC3CC,OAAO,IAETD,QAAQE,aAAU,EAKlB,IAAIC,SAAW,CAObC,UAAW,SAAmBC,EAAQC,GACpC,IAAKD,IAAWC,EAAU,OAAO,KAEjC,IAA4C,IAAxCD,EAAOE,UAAUC,QAAQF,GAC3B,OAAOD,EAKT,IAFA,IAAII,EAAYJ,GAETI,EAAYA,EAAUC,cACoB,IAA3CD,EAAUF,UAAUC,QAAQF,IAErBG,IAAcE,SAASC,OAGpC,OAAIH,GAGK,MAGXI,IAAK,aACLC,GAAI,aACJC,KAAM,aAONC,SAAU,SAAkBC,GAI1B,IAHA,IACIC,GAD6B,EAAnBC,UAAUC,aAA+BC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,IACzDG,MAAM,KAEtBC,EAAI,EAAGA,EAAIL,EAAWE,OAAQG,IACrCN,EAAGO,UAAUC,IAAIP,EAAWK,KAShCG,YAAa,SAAqBT,GAIhC,IAHA,IACIC,GAD6B,EAAnBC,UAAUC,aAA+BC,IAAjBF,UAAU,GAAmBA,UAAU,GAAK,IACzDG,MAAM,KAEtBC,EAAI,EAAGA,EAAIL,EAAWE,OAAQG,IACrCN,EAAGO,UAAUG,OAAOT,EAAWK,KAUnCK,SAAU,SAAkBX,EAAIV,GAC9B,OAAOU,EAAGO,UAAUK,SAAStB,IAS/BuB,KAAM,SAAcb,EAAIc,EAAU9B,KAOlC+B,YAAa,SAAqBC,EAAYC,GAC5C,IAAIC,EAASD,EAAcxB,WAEvByB,EAAOC,YAAcF,EAEvBC,EAAOE,YAAYJ,GAEnBE,EAAOG,aAAaL,EAAYC,EAAcK,cASlDC,cAAe,SAAuBC,GACpC,IAAIC,EAAM/B,SAAS6B,cAAc,OAEjC,OADAE,EAAIC,UAAYF,EACTC,EAAIE,mBAQbC,YAAa,SAAqBH,GAChC,IAAII,EACAC,GAAS,EACb,IAAKL,IAAQA,EAAIhC,WAAY,OAAOoC,EAGpC,IAFA,IAAIE,EAAWN,EAAIhC,WAAWsC,SAErBzB,EAAI,EAAGA,EAAIyB,EAAS5B,OAAQG,IACnC,GAAImB,IAAQM,EAASzB,GAAI,CACvBwB,EAAQxB,EACR,MAYJ,OARe,IAAXwB,IAEAD,EADY,IAAVC,EACOC,EAAS,GAETA,EAASD,EAAQ,IAIvBD,GAQTP,YAAa,SAAqBG,GAChC,IAAII,EACAC,GAAS,EACb,IAAKL,IAAQA,EAAIhC,WAAY,OAAOoC,EAGpC,IAFA,IAAIE,EAAWN,EAAIhC,WAAWsC,SAErBzB,EAAI,EAAGA,EAAIyB,EAAS5B,OAAQG,IACnC,GAAImB,IAAQM,EAASzB,GAAI,CACvBwB,EAAQxB,EACR,MAYJ,OARe,IAAXwB,IAEAD,EADEC,IAAUC,EAAS5B,OAAS,EACrB4B,EAAS,GAETA,EAASD,EAAQ,IAIvBD,GASTG,sBAAuB,SAA+BhC,EAAIiC,GACxD,IAAKA,EAAK,OAAO,KACjB,IAAIC,EACAhB,EAASlB,EAiBb,OAfY,SAASmC,IAEnB,KADAjB,EAASA,EAAOkB,eACH,OAAO,KACpB,IAAIC,EAAYnB,EAAOoB,QAAQC,oBAE3BF,IAAcJ,EAChBC,EAAUhB,EACa,SAAdmB,EACTH,EAAU,KAEVC,IAIJA,GACOD,GAQTH,SAAU,SAAkB/B,EAAIX,GAI9B,OAHemD,MAAMC,UAAUC,OAAOC,KAAK3C,EAAG+B,SAAU,SAAUa,GAChE,OAAsB,IAAfA,EAAEC,WAEKH,OAAO,SAAUE,GAC/B,OAAOA,EAAErC,UAAUK,SAASvB,MAQhCyD,QAAS,WACP,MAAO,eAAgBpD,WAG3BX,QAAQE,QAAUC","file":"dom6.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\n/**\r\n * dom6\r\n */\nvar _default = {\n  /**\r\n   * getTopDom\r\n   * @param {HtmlElement} target\r\n   * @param {string} selector\r\n   * @return {HtmlElement}\r\n   */\n  getTopDom: function getTopDom(target, selector) {\n    if (!target || !selector) return null;\n\n    if (target.className.indexOf(selector) !== -1) {\n      return target;\n    }\n\n    var parentDom = target;\n\n    while (parentDom = parentDom.parentNode) {\n      if (parentDom.className.indexOf(selector) !== -1) {\n        break;\n      } else if (parentDom === document.body) break;\n    }\n\n    if (parentDom) {\n      return parentDom;\n    } else {\n      return null;\n    }\n  },\n  off: function off() {},\n  on: function on() {},\n  once: function once() {},\n\n  /**\r\n   * addClass\r\n   * @param {HTMLElement} el\r\n   * @param {String} classes\r\n   */\n  addClass: function addClass(el) {\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var classNames = classes.split(' ');\n\n    for (var i = 0; i < classNames.length; i++) {\n      el.classList.add(classNames[i]);\n    }\n  },\n\n  /**\r\n   * removeClass\r\n   * @param {HTMLElement} el\r\n   * @param {String} classes\r\n   */\n  removeClass: function removeClass(el) {\n    var classes = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : '';\n    var classNames = classes.split(' ');\n\n    for (var i = 0; i < classNames.length; i++) {\n      el.classList.remove(classNames[i]);\n    }\n  },\n\n  /**\r\n   * hasClass\r\n   * @param {HTMLElement} el\r\n   * @param {String} className\r\n   * @return {Boolean}\r\n   */\n  hasClass: function hasClass(el, className) {\n    return el.classList.contains(className);\n  },\n\n  /**\r\n   * attr\r\n   * @param {HTMLElement} el\r\n   * @param {Object} property\r\n   * @param {Object} value\r\n   */\n  attr: function attr(el, property, value) {},\n\n  /**\r\n   * DOM没有提供insertAfter()方法\r\n   * @param {HtmlElement} newElement\r\n   * @param {HtmlElement} targetElement\r\n   */\n  insertAfter: function insertAfter(newElement, targetElement) {\n    var parent = targetElement.parentNode;\n\n    if (parent.lastChild === targetElement) {\n      // 如果最后的节点是目标元素，则直接添加。因为默认是最后\n      parent.appendChild(newElement);\n    } else {\n      parent.insertBefore(newElement, targetElement.nextSibling); // 如果不是，则插入在目标元素的下一个兄弟节点 的前面。也就是目标元素的后面\n    }\n  },\n\n  /**\r\n   * createElement\r\n   * @param {string} html\r\n   * @return {HtmlElement}\r\n   */\n  createElement: function createElement(html) {\n    var dom = document.createElement('div');\n    dom.innerHTML = html;\n    return dom.firstElementChild;\n  },\n\n  /**\r\n   * prevSibling\r\n   * @param {HtmlElement} dom\r\n   * @return {HtmlElement}\r\n   */\n  prevSibling: function prevSibling(dom) {\n    var result,\n        index = -1;\n    if (!dom || !dom.parentNode) return result;\n    var children = dom.parentNode.children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (dom === children[i]) {\n        index = i;\n        break;\n      }\n    }\n\n    if (index !== -1) {\n      if (index === 0) {\n        result = children[0];\n      } else {\n        result = children[index - 1];\n      }\n    }\n\n    return result;\n  },\n\n  /**\r\n   * nextSibling\r\n   * @param {HtmlElement} dom\r\n   * @return {HtmlElement}\r\n   */\n  nextSibling: function nextSibling(dom) {\n    var result,\n        index = -1;\n    if (!dom || !dom.parentNode) return result;\n    var children = dom.parentNode.children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (dom === children[i]) {\n        index = i;\n        break;\n      }\n    }\n\n    if (index !== -1) {\n      if (index === children.length - 1) {\n        result = children[0];\n      } else {\n        result = children[index + 1];\n      }\n    }\n\n    return result;\n  },\n\n  /**\r\n   * getParentElementByTag\r\n   * @param {HtmlElement} el\r\n   * @param {string} tag\r\n   * @return {HtmlElement}\r\n   */\n  getParentElementByTag: function getParentElementByTag(el, tag) {\n    if (!tag) return null;\n    var element;\n    var parent = el;\n\n    var popup = function popup() {\n      parent = parent.parentElement;\n      if (!parent) return null;\n      var tagParent = parent.tagName.toLocaleLowerCase();\n\n      if (tagParent === tag) {\n        element = parent;\n      } else if (tagParent === 'body') {\n        element = null;\n      } else {\n        popup();\n      }\n    };\n\n    popup();\n    return element;\n  },\n\n  /**\r\n   * children\r\n   * @param {HTMLElement} el\r\n   * @param {string} selector\r\n   */\n  children: function children(el, selector) {\n    var elements = Array.prototype.filter.call(el.children, function (t) {\n      return t.nodeType === 1;\n    });\n    return elements.filter(function (t) {\n      return t.classList.contains(selector);\n    });\n  },\n\n  /**\r\n   * isTouch\r\n   * @return {boolean}\r\n   */\n  isTouch: function isTouch() {\n    return 'ontouchend' in document;\n  }\n};\nexports.default = _default;"]}