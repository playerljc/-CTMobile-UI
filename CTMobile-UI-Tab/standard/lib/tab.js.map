{"version":3,"sources":["tab.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","TabItem","_toConsumableArray2","_classCallCheck2","_createClass2","_swiper","_uiUtil","_dom","selectorPrefix","defaultConfig","indicator","position","type","slidesPerView","activeClasses","activeStyle","theme","arrow","content","mode","isSwiper","tabInstances","direction","initialSlide","renderIndicator","_this$config$indicato","this","config","el","classList","add","concat","swiperIndicatorConfig","init","allowTouchMove","children","indicatorEl","firstElementChild","length","swiperIndicator","renderContent","_this$config$content","swiperContentConfig","effect","swiperContent","contentEl","initEvent","_this","self","onIndicatorSlideChangeTransitionStart","bind","onContentSlideChangeTransitionStart","onContentSlideChangeTransitionEnd","on","instance","createContentInstace","call","activeIndex","triggerContent","addEventListener","e","target","contains","Dom6","getTopDom","index","findIndicatorIndex","slideTo","els","i","_this$config$content$","entry","contentClassInstances","get","tabInstance","contentDoms","setEl","setIndex","set","getContentInstance","_ref","params","activeIndicatorItem","remove","showMask","maskEl","style","display","hideMask","key","Tab","tel","parent","assign","Map","querySelector","cloneNode","createElement","appendChild","off","indicatorObj","contentObj","impls","addSlide","_this$config$content$2","splice","apply","clear","destroy","slideIndex","_this2","Array","sort","a","b","forEach","removeSlide","_default"],"mappings":"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","file":"tab.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = exports.TabItem = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _swiper = _interopRequireDefault(require(\"swiper\"));\n\nvar _uiUtil = require(\"@ctmobile/ui-util\");\n\nvar _dom = _interopRequireDefault(require(\"@ctmobile/ui-util/src/dom6\"));\n\nvar selectorPrefix = 'ct-tab-';\nvar defaultConfig = {\n  indicator: {\n    position: 'top',\n    type: 'dynamic',\n    slidesPerView: 3,\n    activeClasses: '',\n    activeStyle: '',\n    theme: 'normal',\n    arrow: false\n  },\n  content: {\n    mode: 'mulit',\n    isSwiper: true,\n    tabInstances: [],\n    direction: 'horizontal'\n  },\n  initialSlide: 0\n};\n/**\r\n * renderIndicator\r\n * @access private\r\n *\r\n * indicator方向 top bottom left right\r\n * ct-tab-indicator-position-top\r\n * ct-tab-indicator-position-bottom\r\n * ct-tab-indicator-position-left\r\n * ct-tab-indicator-position-right\r\n *\r\n * indicator是否是平均分配\r\n * ct-tab-indicator-type-dynamic\r\n * ct-tab-indicator-type-average\r\n *\r\n * indicator的active指示器\r\n */\n\nfunction renderIndicator() {\n  var _this$config$indicato = this.config.indicator,\n      position = _this$config$indicato.position,\n      type = _this$config$indicato.type,\n      theme = _this$config$indicato.theme,\n      slidesPerView = _this$config$indicato.slidesPerView,\n      arrow = _this$config$indicato.arrow;\n  var initialSlide = this.config.initialSlide; // 样式初始化\n\n  this.el.classList.add(\"\".concat(selectorPrefix, \"indicator-position-\").concat(position));\n  this.el.classList.add(\"\".concat(selectorPrefix, \"indicator-type-\").concat(type));\n\n  if (type === 'average') {\n    this.el.classList.add(\"\".concat(selectorPrefix, \"indicator-theme-\").concat(theme));\n  }\n\n  var swiperIndicatorConfig = {\n    init: false,\n    direction: position === 'top' || position === 'bottom' ? 'horizontal' : 'vertical',\n    initialSlide: initialSlide,\n    allowTouchMove: type !== 'average'\n  };\n  /**\r\n   *  slidesPerView: 'auto',\r\n   freeMode: true,\r\n   scrollbar: {\r\n        el: '.swiper-scrollbar',\r\n      },\r\n   mousewheel: true,\r\n   */\n\n  if (type === 'dynamic') {\n    swiperIndicatorConfig.slidesPerView = slidesPerView;\n  } else {\n    swiperIndicatorConfig.slidesPerView = _dom.default.children(this.indicatorEl.firstElementChild, 'swiper-slide').length;\n  }\n\n  this.swiperIndicator = new _swiper.default(this.indicatorEl, swiperIndicatorConfig);\n}\n/**\r\n * renderContent\r\n * @access private\r\n */\n\n\nfunction renderContent() {\n  var _this$config$content = this.config.content,\n      mode = _this$config$content.mode,\n      isSwiper = _this$config$content.isSwiper,\n      direction = _this$config$content.direction;\n  var initialSlide = this.config.initialSlide;\n  this.el.classList.add(\"\".concat(selectorPrefix, \"content-direction-\").concat(direction));\n  var swiperContentConfig = {\n    init: false,\n    allowTouchMove: isSwiper,\n    initialSlide: initialSlide,\n    direction: direction,\n    slidesPerView: 1\n  };\n\n  if (mode === 'single') {\n    swiperContentConfig.effect = 'fade';\n  }\n\n  this.swiperContent = new _swiper.default(this.contentEl, swiperContentConfig);\n}\n/**\r\n * initEvent\r\n * @access private\r\n */\n\n\nfunction initEvent() {\n  var _this = this;\n\n  var self = this;\n  self.onIndicatorSlideChangeTransitionStart = self.onIndicatorSlideChangeTransitionStart.bind(this);\n  self.onContentSlideChangeTransitionStart = self.onContentSlideChangeTransitionStart.bind(this);\n  self.onContentSlideChangeTransitionEnd = self.onContentSlideChangeTransitionEnd.bind(this);\n  this.swiperContent.on('init', function () {\n    var instance = createContentInstace.call(self, self.swiperContent.activeIndex);\n    triggerContent.call(self, {\n      instance: instance,\n      type: 'create'\n    });\n    triggerContent.call(self, {\n      instance: instance,\n      type: 'show'\n    });\n  });\n  this.swiperIndicator.on('slideChangeTransitionStart', self.onIndicatorSlideChangeTransitionStart);\n  this.swiperContent.on('slideChangeTransitionStart', self.onContentSlideChangeTransitionStart);\n  this.swiperContent.on('slideChangeTransitionEnd', self.onContentSlideChangeTransitionEnd);\n  this.indicatorEl.addEventListener('click', function (e) {\n    var target = e.target;\n\n    if (!target.classList.contains('swiper-slide')) {\n      var el = _uiUtil.Dom6.getTopDom(target, 'swiper-slide');\n\n      if (el && el.classList.contains('swiper-slide')) {\n        var index = findIndicatorIndex.call(_this, el);\n\n        if (index !== -1) {\n          if (index === _this.activeIndex) return false;\n\n          _this.swiperContent.slideTo(index);\n        }\n      }\n    }\n  });\n}\n\nfunction findIndicatorIndex(el) {\n  // const els = this.indicatorEl.querySelectorAll('> .swiper-wrapper > .swiper-slide');\n  var els = _dom.default.children(this.indicatorEl.firstElementChild, 'swiper-slide');\n\n  var index = -1;\n\n  for (var i = 0; i < els.length; i++) {\n    if (el === els[i]) {\n      index = i;\n    }\n  }\n\n  return index;\n}\n/**\r\n * createContentInstace\r\n * @param {number} index\r\n * @return {TabItem}\r\n * @access private\r\n */\n\n\nfunction createContentInstace(index) {\n  var _this$config$content$ = this.config.content.tabInstances,\n      tabInstances = _this$config$content$ === void 0 ? [] : _this$config$content$;\n  var entry = this.contentClassInstances.get(index);\n\n  if (!entry) {\n    var tabInstance = tabInstances[index] || {};\n\n    var contentDoms = _dom.default.children(this.contentEl.firstElementChild, 'ct-tab-content-item');\n\n    entry = tabInstance; // new Class(index, contentDoms[index]);\n\n    if (entry.setEl) {\n      entry.setEl(contentDoms[index]);\n    }\n\n    if (entry.setIndex) {\n      entry.setIndex(index);\n    }\n\n    this.contentClassInstances.set(index, entry);\n  }\n\n  return entry;\n}\n/**\r\n * getContentInstance\r\n * @param {Number} index\r\n * @return {TabItem}\r\n */\n\n\nfunction getContentInstance(index) {\n  return this.contentClassInstances.get(index);\n}\n/**\r\n * triggerContent\r\n * @param {object} params\r\n */\n\n\nfunction triggerContent(_ref) {\n  var instance = _ref.instance,\n      type = _ref.type,\n      params = _ref.params;\n\n  if (instance[type]) {\n    instance[type](params);\n  }\n}\n/**\r\n * 激活\r\n * @param index\r\n */\n\n\nfunction activeIndicatorItem(index) {\n  var els = _dom.default.children(this.indicatorEl.firstElementChild, 'swiper-slide');\n\n  for (var i = 0; i < els.length; i++) {\n    var el = els[i];\n\n    if (i == index) {\n      el.classList.add('active');\n    } else {\n      el.classList.remove('active');\n    }\n  }\n}\n/**\r\n * showMask\r\n * @access private\r\n */\n\n\nfunction showMask() {\n  this.maskEl.style.display = 'block';\n}\n/**\r\n * hideMask\r\n * @access private\r\n */\n\n\nfunction hideMask() {\n  this.maskEl.style.display = 'none';\n}\n/**\r\n * TabItem\r\n * @class TabItem\r\n * @classdesc TabItem 卡片类的父类\r\n */\n\n\nvar TabItem =\n/*#__PURE__*/\nfunction () {\n  function TabItem() {\n    (0, _classCallCheck2.default)(this, TabItem);\n  }\n\n  (0, _createClass2.default)(TabItem, [{\n    key: \"setIndex\",\n    value: function setIndex(index) {\n      this.index = index;\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex() {\n      return this.index;\n    }\n  }, {\n    key: \"setEl\",\n    value: function setEl(el) {\n      this.el = el;\n    }\n  }, {\n    key: \"getEl\",\n    value: function getEl() {\n      return this.el;\n    }\n  }]);\n  return TabItem;\n}();\n\nexports.TabItem = TabItem;\n\n/**\r\n * Tab\r\n * @class Tab\r\n * @classdesc Tab\r\n */\nvar Tab =\n/*#__PURE__*/\nfunction () {\n  /**\r\n   * constructor\r\n   * @param el\r\n   * @param tel\r\n   * @param config\r\n   */\n  function Tab(el, tel, config) {\n    (0, _classCallCheck2.default)(this, Tab);\n    this.parent = el;\n    this.tel = tel;\n    this.config = Object.assign({}, defaultConfig, config); // key索引是index，value是实例\n\n    this.contentClassInstances = new Map();\n    this.el = this.tel.content.querySelector('.ct-tab').cloneNode(true);\n    this.indicatorEl = this.el.querySelector(\".\".concat(selectorPrefix, \"indicator\"));\n    this.contentEl = this.el.querySelector(\".\".concat(selectorPrefix, \"content\"));\n    this.maskEl = _dom.default.createElement(\"<div class=\\\"\".concat(selectorPrefix, \"mask\\\"></div>\"));\n    this.el.appendChild(this.maskEl);\n    renderIndicator.call(this);\n    renderContent.call(this);\n    this.parent.appendChild(this.el);\n    this.activeIndex = this.swiperIndicator.activeIndex;\n    activeIndicatorItem.call(this, this.activeIndex);\n    initEvent.call(this);\n    this.swiperIndicator.init();\n    this.swiperContent.init();\n  }\n\n  (0, _createClass2.default)(Tab, [{\n    key: \"onIndicatorSlideChangeTransitionStart\",\n    value: function onIndicatorSlideChangeTransitionStart() {\n      // 滑动content\n      this.swiperContent.slideTo(this.swiperIndicator.activeIndex);\n    }\n  }, {\n    key: \"onContentSlideChangeTransitionStart\",\n    value: function onContentSlideChangeTransitionStart() {\n      showMask.call(this);\n      var instance = getContentInstance.call(this, this.activeIndex);\n\n      if (instance) {\n        triggerContent({\n          instance: instance,\n          type: 'beforeHide'\n        });\n      }\n\n      this.swiperIndicator.off('slideChangeTransitionEnd', this.onIndicatorSlideChangeTransitionStart);\n      this.swiperIndicator.slideTo(this.swiperContent.activeIndex);\n    }\n  }, {\n    key: \"onContentSlideChangeTransitionEnd\",\n    value: function onContentSlideChangeTransitionEnd() {\n      var instance = getContentInstance.call(this, this.swiperContent.activeIndex);\n\n      if (!instance) {\n        instance = createContentInstace.call(this, this.swiperContent.activeIndex);\n        triggerContent({\n          instance: instance,\n          type: 'create'\n        });\n      }\n\n      triggerContent({\n        instance: instance,\n        type: 'show'\n      });\n      this.activeIndex = this.swiperContent.activeIndex;\n      activeIndicatorItem.call(this, this.activeIndex);\n      this.swiperIndicator.on('slideChangeTransitionEnd', this.onIndicatorSlideChangeTransitionStart);\n      hideMask.call(this);\n    }\n    /**\r\n     * slideTo\r\n     * @param {String} index\r\n     * @return {boolean}\r\n     */\n\n  }, {\n    key: \"slideTo\",\n    value: function slideTo(index) {\n      if (index === this.activeIndex) return false;\n      this.swiperContent.slideTo(index);\n    }\n    /**\r\n     * appendSlide\r\n     * @param {Object} indicatorObj slides可以是带有新幻灯片的HTMLElement或HTML字符串或带有此类幻灯片的数组\r\n     * @param {Object} contentObj slides可以是带有新幻灯片的HTMLElement或HTML字符串或带有此类幻灯片的数组\r\n     * @param {Object} impl tab的实现类 数组或是对象\r\n     */\n\n  }, {\n    key: \"appendSlide\",\n    value: function appendSlide(indicatorObj, contentObj, impls) {\n      this.addSlide(this.config.content.tabInstances.length, indicatorObj, contentObj, impls);\n    }\n    /**\r\n     * prependSlide\r\n     * @param {Object} indicatorObj slides可以是带有新幻灯片的HTMLElement或HTML字符串或带有此类幻灯片的数组\r\n     * @param {Object} contentObj slides可以是带有新幻灯片的HTMLElement或HTML字符串或带有此类幻灯片的数组\r\n     * @param {Object} impl tab的实现类 数组或是对象\r\n     */\n\n  }, {\n    key: \"prependSlide\",\n    value: function prependSlide(indicatorObj, contentObj, impls) {\n      this.addSlide(0, indicatorObj, contentObj, impls);\n    }\n    /**\r\n     * addSlide\r\n     * @param {number} index 插入的索引\r\n     * @param {Object} indicatorObj slides可以是带有新幻灯片的HTMLElement或HTML字符串或带有此类幻灯片的数组\r\n     * @param {Object} contentObj slides可以是带有新幻灯片的HTMLElement或HTML字符串或带有此类幻灯片的数组\r\n     * @param {Object} impl tab的实现类 数组或是对象\r\n     */\n\n  }, {\n    key: \"addSlide\",\n    value: function addSlide(index, indicatorObj, contentObj, impls) {\n      var _this$config$content$2;\n\n      var length = this.config.content.tabInstances.length;\n      if (index < 0 || index > length) return false;\n\n      (_this$config$content$2 = this.config.content.tabInstances).splice.apply(_this$config$content$2, [index, 0].concat((0, _toConsumableArray2.default)([].concat(impls))));\n\n      this.contentClassInstances.clear();\n      this.swiperIndicator.addSlide(index, indicatorObj);\n      this.swiperContent.addSlide(index, contentObj);\n      this.swiperIndicator.destroy(false);\n      renderIndicator.call(this);\n      this.swiperIndicator.init();\n      this.activeIndex = -1;\n    }\n    /**\r\n     * slideIndex\r\n     * @param {Number} slideIndex\r\n     */\n\n  }, {\n    key: \"removeSlide\",\n    value: function removeSlide(slideIndex) {\n      var _this2 = this;\n\n      var length = this.config.content.tabInstances.length;\n      if (slideIndex < 0 || slideIndex > length) return false;\n\n      if (slideIndex instanceof Array) {\n        slideIndex.sort(function (a, b) {\n          return b - a;\n        });\n        slideIndex.forEach(function (index) {\n          _this2.config.content.tabInstances.splice(index, 1);\n        });\n      } else {\n        this.config.content.tabInstances.splice(slideIndex, 1);\n      }\n\n      this.contentClassInstances.clear();\n      this.swiperIndicator.removeSlide(slideIndex);\n      this.swiperContent.removeSlide(slideIndex);\n      this.swiperIndicator.destroy(false);\n      renderIndicator.call(this);\n      this.swiperIndicator.init();\n      this.activeIndex = -1;\n    }\n    /**\r\n     * getCount\r\n     * @return {number}\r\n     */\n\n  }, {\n    key: \"getCount\",\n    value: function getCount() {\n      return _dom.default.children(this.indicatorEl.firstElementChild, 'swiper-slide').length;\n    }\n  }]);\n  return Tab;\n}();\n\nvar _default = Tab;\nexports.default = _default;"]}