{"version":3,"sources":["tab.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","TabItem","_toConsumableArray2","_classCallCheck2","_createClass2","_swiper","_uiUtil","selectorPrefix","defaultConfig","indicator","position","type","slidesPerView","activeClasses","activeStyle","theme","arrow","content","mode","isSwiper","tabInstances","direction","initialSlide","renderIndicator","_this$config$indicato","this","config","el","classList","add","concat","swiperIndicatorConfig","init","allowTouchMove","Dom6","children","indicatorEl","firstElementChild","length","swiperIndicator","renderContent","_this$config$content","swiperContentConfig","effect","swiperContent","contentEl","initEvent","_this","self","onIndicatorSlideChangeTransitionStart","bind","onContentSlideChangeTransitionStart","onContentSlideChangeTransitionEnd","on","instance","createContentInstace","call","activeIndex","triggerContent","addEventListener","e","target","contains","getTopDom","index","findIndicatorIndex","slideTo","els","i","_this$config$content$","entry","contentClassInstances","get","tabInstance","contentDoms","setEl","setIndex","set","getContentInstance","_ref","params","activeIndicatorItem","remove","showMask","maskEl","style","display","hideMask","key","Tab","tel","parent","assign","Map","querySelector","cloneNode","createElement","appendChild","off","indicatorObj","contentObj","impls","addSlide","_this$config$content$2","splice","apply","clear","destroy","slideIndex","_this2","Array","sort","a","b","forEach","removeSlide","_default"],"mappings":"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","file":"tab.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports[\"default\"] = exports.TabItem = void 0;\n\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar _swiper = _interopRequireDefault(require(\"swiper\"));\n\nvar _uiUtil = require(\"@ctmobile/ui-util\");\n\nvar selectorPrefix = 'ct-tab-';\nvar defaultConfig = {\n  indicator: {\n    position: 'top',\n    type: 'dynamic',\n    slidesPerView: 3,\n    activeClasses: '',\n    activeStyle: '',\n    theme: 'normal',\n    arrow: false\n  },\n  content: {\n    mode: 'mulit',\n    isSwiper: true,\n    tabInstances: [],\n    direction: 'horizontal'\n  },\n  initialSlide: 0\n};\n/**\r\n * renderIndicator\r\n * @access private\r\n *\r\n * indicator方向 top bottom left right\r\n * ct-tab-indicator-position-top\r\n * ct-tab-indicator-position-bottom\r\n * ct-tab-indicator-position-left\r\n * ct-tab-indicator-position-right\r\n *\r\n * indicator是否是平均分配\r\n * ct-tab-indicator-type-dynamic\r\n * ct-tab-indicator-type-average\r\n *\r\n * indicator的active指示器\r\n */\n\nfunction renderIndicator() {\n  var _this$config$indicato = this.config.indicator,\n      position = _this$config$indicato.position,\n      type = _this$config$indicato.type,\n      theme = _this$config$indicato.theme,\n      slidesPerView = _this$config$indicato.slidesPerView,\n      arrow = _this$config$indicato.arrow;\n  var initialSlide = this.config.initialSlide; // 样式初始化\n\n  this.el.classList.add(\"\".concat(selectorPrefix, \"indicator-position-\").concat(position));\n  this.el.classList.add(\"\".concat(selectorPrefix, \"indicator-type-\").concat(type));\n\n  if (type === 'average') {\n    this.el.classList.add(\"\".concat(selectorPrefix, \"indicator-theme-\").concat(theme));\n  }\n\n  var swiperIndicatorConfig = {\n    init: false,\n    direction: position === 'top' || position === 'bottom' ? 'horizontal' : 'vertical',\n    initialSlide: initialSlide,\n    allowTouchMove: type !== 'average'\n  };\n  /**\r\n   *  slidesPerView: 'auto',\r\n   freeMode: true,\r\n   scrollbar: {\r\n        el: '.swiper-scrollbar',\r\n      },\r\n   mousewheel: true,\r\n   */\n\n  if (type === 'dynamic') {\n    swiperIndicatorConfig.slidesPerView = slidesPerView;\n  } else {\n    swiperIndicatorConfig.slidesPerView = _uiUtil.Dom6.children(this.indicatorEl.firstElementChild, 'swiper-slide').length;\n  }\n\n  this.swiperIndicator = new _swiper[\"default\"](this.indicatorEl, swiperIndicatorConfig);\n}\n/**\r\n * renderContent\r\n * @access private\r\n */\n\n\nfunction renderContent() {\n  var _this$config$content = this.config.content,\n      mode = _this$config$content.mode,\n      isSwiper = _this$config$content.isSwiper,\n      direction = _this$config$content.direction;\n  var initialSlide = this.config.initialSlide;\n  this.el.classList.add(\"\".concat(selectorPrefix, \"content-direction-\").concat(direction));\n  var swiperContentConfig = {\n    init: false,\n    allowTouchMove: isSwiper,\n    initialSlide: initialSlide,\n    direction: direction,\n    slidesPerView: 1\n  };\n\n  if (mode === 'single') {\n    swiperContentConfig.effect = 'fade';\n  }\n\n  this.swiperContent = new _swiper[\"default\"](this.contentEl, swiperContentConfig);\n}\n/**\r\n * initEvent\r\n * @access private\r\n */\n\n\nfunction initEvent() {\n  var _this = this;\n\n  var self = this;\n  self.onIndicatorSlideChangeTransitionStart = self.onIndicatorSlideChangeTransitionStart.bind(this);\n  self.onContentSlideChangeTransitionStart = self.onContentSlideChangeTransitionStart.bind(this);\n  self.onContentSlideChangeTransitionEnd = self.onContentSlideChangeTransitionEnd.bind(this);\n  this.swiperContent.on('init', function () {\n    var instance = createContentInstace.call(self, self.swiperContent.activeIndex);\n    triggerContent.call(self, {\n      instance: instance,\n      type: 'create'\n    });\n    triggerContent.call(self, {\n      instance: instance,\n      type: 'show'\n    });\n  });\n  this.swiperIndicator.on('slideChangeTransitionStart', self.onIndicatorSlideChangeTransitionStart);\n  this.swiperContent.on('slideChangeTransitionStart', self.onContentSlideChangeTransitionStart);\n  this.swiperContent.on('slideChangeTransitionEnd', self.onContentSlideChangeTransitionEnd);\n  this.indicatorEl.addEventListener('click', function (e) {\n    var target = e.target;\n\n    if (!target.classList.contains('swiper-slide')) {\n      var el = _uiUtil.Dom6.getTopDom(target, 'swiper-slide');\n\n      if (el && el.classList.contains('swiper-slide')) {\n        var index = findIndicatorIndex.call(_this, el);\n\n        if (index !== -1) {\n          if (index === _this.activeIndex) return false;\n\n          _this.swiperContent.slideTo(index);\n        }\n      }\n    }\n  });\n}\n\nfunction findIndicatorIndex(el) {\n  // const els = this.indicatorEl.querySelectorAll('> .swiper-wrapper > .swiper-slide');\n  var els = _uiUtil.Dom6.children(this.indicatorEl.firstElementChild, 'swiper-slide');\n\n  var index = -1;\n\n  for (var i = 0; i < els.length; i++) {\n    if (el === els[i]) {\n      index = i;\n    }\n  }\n\n  return index;\n}\n/**\r\n * createContentInstace\r\n * @param {number} index\r\n * @return {TabItem}\r\n * @access private\r\n */\n\n\nfunction createContentInstace(index) {\n  var _this$config$content$ = this.config.content.tabInstances,\n      tabInstances = _this$config$content$ === void 0 ? [] : _this$config$content$;\n  var entry = this.contentClassInstances.get(index);\n\n  if (!entry) {\n    var tabInstance = tabInstances[index] || {};\n\n    var contentDoms = _uiUtil.Dom6.children(this.contentEl.firstElementChild, 'ct-tab-content-item');\n\n    entry = tabInstance; // new Class(index, contentDoms[index]);\n\n    if (entry.setEl) {\n      entry.setEl(contentDoms[index]);\n    }\n\n    if (entry.setIndex) {\n      entry.setIndex(index);\n    }\n\n    this.contentClassInstances.set(index, entry);\n  }\n\n  return entry;\n}\n/**\r\n * getContentInstance\r\n * @param {Number} index\r\n * @return {TabItem}\r\n */\n\n\nfunction getContentInstance(index) {\n  return this.contentClassInstances.get(index);\n}\n/**\r\n * triggerContent\r\n * @param {object} params\r\n */\n\n\nfunction triggerContent(_ref) {\n  var instance = _ref.instance,\n      type = _ref.type,\n      params = _ref.params;\n\n  if (instance[type]) {\n    instance[type](params);\n  }\n}\n/**\r\n * 激活\r\n * @param index\r\n */\n\n\nfunction activeIndicatorItem(index) {\n  var els = _uiUtil.Dom6.children(this.indicatorEl.firstElementChild, 'swiper-slide');\n\n  for (var i = 0; i < els.length; i++) {\n    var el = els[i];\n\n    if (i == index) {\n      el.classList.add('active');\n    } else {\n      el.classList.remove('active');\n    }\n  }\n}\n/**\r\n * showMask\r\n * @access private\r\n */\n\n\nfunction showMask() {\n  this.maskEl.style.display = 'block';\n}\n/**\r\n * hideMask\r\n * @access private\r\n */\n\n\nfunction hideMask() {\n  this.maskEl.style.display = 'none';\n}\n/**\r\n * TabItem\r\n * @class TabItem\r\n * @classdesc TabItem 卡片类的父类\r\n */\n\n\nvar TabItem =\n/*#__PURE__*/\nfunction () {\n  function TabItem() {\n    (0, _classCallCheck2[\"default\"])(this, TabItem);\n  }\n\n  (0, _createClass2[\"default\"])(TabItem, [{\n    key: \"setIndex\",\n    value: function setIndex(index) {\n      this.index = index;\n    }\n  }, {\n    key: \"getIndex\",\n    value: function getIndex() {\n      return this.index;\n    }\n  }, {\n    key: \"setEl\",\n    value: function setEl(el) {\n      this.el = el;\n    }\n  }, {\n    key: \"getEl\",\n    value: function getEl() {\n      return this.el;\n    }\n  }]);\n  return TabItem;\n}();\n\nexports.TabItem = TabItem;\n\n/**\r\n * Tab\r\n * @class Tab\r\n * @classdesc Tab\r\n */\nvar Tab =\n/*#__PURE__*/\nfunction () {\n  /**\r\n   * constructor\r\n   * @param el\r\n   * @param tel\r\n   * @param config\r\n   */\n  function Tab(el, tel, config) {\n    (0, _classCallCheck2[\"default\"])(this, Tab);\n    this.parent = el;\n    this.tel = tel;\n    this.config = Object.assign({}, defaultConfig, config); // key索引是index，value是实例\n\n    this.contentClassInstances = new Map();\n    this.el = this.tel.content.querySelector('.ct-tab').cloneNode(true);\n    this.indicatorEl = this.el.querySelector(\".\".concat(selectorPrefix, \"indicator\"));\n    this.contentEl = this.el.querySelector(\".\".concat(selectorPrefix, \"content\"));\n    this.maskEl = _uiUtil.Dom6.createElement(\"<div class=\\\"\".concat(selectorPrefix, \"mask\\\"></div>\"));\n    this.el.appendChild(this.maskEl);\n    renderIndicator.call(this);\n    renderContent.call(this);\n    this.parent.appendChild(this.el);\n    this.activeIndex = this.swiperIndicator.activeIndex;\n    activeIndicatorItem.call(this, this.activeIndex);\n    initEvent.call(this);\n    this.swiperIndicator.init();\n    this.swiperContent.init();\n  }\n\n  (0, _createClass2[\"default\"])(Tab, [{\n    key: \"onIndicatorSlideChangeTransitionStart\",\n    value: function onIndicatorSlideChangeTransitionStart() {\n      // 滑动content\n      this.swiperContent.slideTo(this.swiperIndicator.activeIndex);\n    }\n  }, {\n    key: \"onContentSlideChangeTransitionStart\",\n    value: function onContentSlideChangeTransitionStart() {\n      showMask.call(this);\n      var instance = getContentInstance.call(this, this.activeIndex);\n\n      if (instance) {\n        triggerContent({\n          instance: instance,\n          type: 'beforeHide'\n        });\n      }\n\n      this.swiperIndicator.off('slideChangeTransitionEnd', this.onIndicatorSlideChangeTransitionStart);\n      this.swiperIndicator.slideTo(this.swiperContent.activeIndex);\n    }\n  }, {\n    key: \"onContentSlideChangeTransitionEnd\",\n    value: function onContentSlideChangeTransitionEnd() {\n      var instance = getContentInstance.call(this, this.swiperContent.activeIndex);\n\n      if (!instance) {\n        instance = createContentInstace.call(this, this.swiperContent.activeIndex);\n        triggerContent({\n          instance: instance,\n          type: 'create'\n        });\n      }\n\n      triggerContent({\n        instance: instance,\n        type: 'show'\n      });\n      this.activeIndex = this.swiperContent.activeIndex;\n      activeIndicatorItem.call(this, this.activeIndex);\n      this.swiperIndicator.on('slideChangeTransitionEnd', this.onIndicatorSlideChangeTransitionStart);\n      hideMask.call(this);\n    }\n    /**\r\n     * slideTo\r\n     * @param {String} index\r\n     * @return {boolean}\r\n     */\n\n  }, {\n    key: \"slideTo\",\n    value: function slideTo(index) {\n      if (index === this.activeIndex) return false;\n      this.swiperContent.slideTo(index);\n    }\n    /**\r\n     * appendSlide\r\n     * @param {Object} indicatorObj slides可以是带有新幻灯片的HTMLElement或HTML字符串或带有此类幻灯片的数组\r\n     * @param {Object} contentObj slides可以是带有新幻灯片的HTMLElement或HTML字符串或带有此类幻灯片的数组\r\n     * @param {Object} impl tab的实现类 数组或是对象\r\n     */\n\n  }, {\n    key: \"appendSlide\",\n    value: function appendSlide(indicatorObj, contentObj, impls) {\n      this.addSlide(this.config.content.tabInstances.length, indicatorObj, contentObj, impls);\n    }\n    /**\r\n     * prependSlide\r\n     * @param {Object} indicatorObj slides可以是带有新幻灯片的HTMLElement或HTML字符串或带有此类幻灯片的数组\r\n     * @param {Object} contentObj slides可以是带有新幻灯片的HTMLElement或HTML字符串或带有此类幻灯片的数组\r\n     * @param {Object} impl tab的实现类 数组或是对象\r\n     */\n\n  }, {\n    key: \"prependSlide\",\n    value: function prependSlide(indicatorObj, contentObj, impls) {\n      this.addSlide(0, indicatorObj, contentObj, impls);\n    }\n    /**\r\n     * addSlide\r\n     * @param {number} index 插入的索引\r\n     * @param {Object} indicatorObj slides可以是带有新幻灯片的HTMLElement或HTML字符串或带有此类幻灯片的数组\r\n     * @param {Object} contentObj slides可以是带有新幻灯片的HTMLElement或HTML字符串或带有此类幻灯片的数组\r\n     * @param {Object} impl tab的实现类 数组或是对象\r\n     */\n\n  }, {\n    key: \"addSlide\",\n    value: function addSlide(index, indicatorObj, contentObj, impls) {\n      var _this$config$content$2;\n\n      var length = this.config.content.tabInstances.length;\n      if (index < 0 || index > length) return false;\n\n      (_this$config$content$2 = this.config.content.tabInstances).splice.apply(_this$config$content$2, [index, 0].concat((0, _toConsumableArray2[\"default\"])([].concat(impls))));\n\n      this.contentClassInstances.clear();\n      this.swiperIndicator.addSlide(index, indicatorObj);\n      this.swiperContent.addSlide(index, contentObj);\n      this.swiperIndicator.destroy(false);\n      renderIndicator.call(this);\n      this.swiperIndicator.init();\n      this.activeIndex = -1;\n    }\n    /**\r\n     * slideIndex\r\n     * @param {Number} slideIndex\r\n     */\n\n  }, {\n    key: \"removeSlide\",\n    value: function removeSlide(slideIndex) {\n      var _this2 = this;\n\n      var length = this.config.content.tabInstances.length;\n      if (slideIndex < 0 || slideIndex > length) return false;\n\n      if (slideIndex instanceof Array) {\n        slideIndex.sort(function (a, b) {\n          return b - a;\n        });\n        slideIndex.forEach(function (index) {\n          _this2.config.content.tabInstances.splice(index, 1);\n        });\n      } else {\n        this.config.content.tabInstances.splice(slideIndex, 1);\n      }\n\n      this.contentClassInstances.clear();\n      this.swiperIndicator.removeSlide(slideIndex);\n      this.swiperContent.removeSlide(slideIndex);\n      this.swiperIndicator.destroy(false);\n      renderIndicator.call(this);\n      this.swiperIndicator.init();\n      this.activeIndex = -1;\n    }\n    /**\r\n     * getCount\r\n     * @return {number}\r\n     */\n\n  }, {\n    key: \"getCount\",\n    value: function getCount() {\n      return _uiUtil.Dom6.children(this.indicatorEl.firstElementChild, 'swiper-slide').length;\n    }\n  }]);\n  return Tab;\n}();\n\nvar _default = Tab;\nexports[\"default\"] = _default;"]}