"use strict";var _interopRequireWildcard=require("@babel/runtime/helpers/interopRequireWildcard"),_interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_uiUtil=require("@ctmobile/ui-util"),_swipeout=_interopRequireWildcard(require("./swipeout"));function initEvents(){if(this.config&&this.config.listeners)for(var e=this.config.listeners,i=void 0===e?{}:e,t=Object.keys(i),s=0;s<t.length;s+=1){var r=t[s];this.events.on(r,i[r])}}function render(){var i=this;this.swipers&&this.destory(),delete this.config.listeners,this.swipers=[];for(var e=this.el.querySelectorAll(".".concat(_swipeout.className)),t=0;t<e.length;t++){var s=_swipeout.default.create(e[t],Object.assign({listeners:{init:function(e){i.events.trigger("init",e)}}},this.config));s.on("slideChangeTransitionStart",function(e){i.events.trigger("slideChangeTransitionStart",e)}),s.on("slideChangeTransitionEnd",function(e){i.events.trigger("slideChangeTransitionEnd",e)}),this.swipers.push(s)}}var SwipeoutList=function(){function t(e,i){(0,_classCallCheck2.default)(this,t),this.el=e,this.config=Object.assign({},i),this.events=new _uiUtil.Events,initEvents.call(this),render.call(this)}return(0,_createClass2.default)(t,[{key:"changeDirection",value:function(e,i){e.changeDirection(i)}},{key:"slideBefore",value:function(e){e.slideBefore()}},{key:"slideAfter",value:function(e){e.slideAfter()}},{key:"close",value:function(e){e.close()}},{key:"slideBeforeAll",value:function(){for(var e=0;e<this.swipers.length;e++)this.swipers[e].slideBefore()}},{key:"slideAfterAll",value:function(){for(var e=0;e<this.swipers.length;e++)this.swipers[e].slideAfter()}},{key:"changeDirections",value:function(e){for(var i=0;i<this.swipers.length;i++)this.swipers[i].changeDirection(e)}},{key:"closeAll",value:function(){for(var e=0;e<this.swipers.length;e++)this.swipers[e].close()}},{key:"destorySwiper",value:function(e){e.destory()}},{key:"removeSwiper",value:function(e){e.remove()}},{key:"getSwiper",value:function(e){return this.swipers[e]}},{key:"refresh",value:function(){render.call(this)}},{key:"destory",value:function(){for(var e=0;e<this.swipers.length;e++)this.swipers[e].destory()}}]),t}(),SwipeoutListFactory={create:function(e,i){return new SwipeoutList(e,i)}},_default=SwipeoutListFactory;exports.default=_default;
//# sourceMappingURL=swipeoutlist.js.map
