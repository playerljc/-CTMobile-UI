"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:!0}),exports.default=exports.className=void 0;var _classCallCheck2=_interopRequireDefault(require("@babel/runtime/helpers/classCallCheck")),_createClass2=_interopRequireDefault(require("@babel/runtime/helpers/createClass")),_swiper=_interopRequireDefault(require("swiper")),_uiUtil=require("@ctmobile/ui-util"),className="ct-swipeout";function initEvents(){if(this.config&&this.config.listeners)for(var e=this.config.listeners,i=void 0===e?{}:e,t=Object.keys(i),s=0;s<t.length;s+=1){var n=t[s];this.events.on(n,i[n])}}function render(){var e=this,i=this.config.direction,t=void 0===i?"horizontal":i;this.swiper&&this.swiper.destroy(),this.swiper=new _swiper.default(this.el,{init:!1,initialSlide:1,direction:t,slidesPerView:"auto",centeredSlides:!1,spaceBetween:0}),this.swiper.on("init",function(){e.events.trigger("init",e)}),this.swiper.on("slideChangeTransitionStart",function(){e.events.trigger("slideChangeTransitionStart",e)}),this.swiper.on("slideChangeTransitionEnd",function(){e.events.trigger("slideChangeTransitionEnd",e)})}exports.className=className;var Swipeout=function(){function t(e,i){(0,_classCallCheck2.default)(this,t),this.el=e,this.config=Object.assign({},i),this.events=new _uiUtil.Events,initEvents.call(this),render.call(this),this.swiper.init()}return(0,_createClass2.default)(t,[{key:"refresh",value:function(){this.swiper.update()}},{key:"changeDirection",value:function(e){this.swiper.changeDirection(e)}},{key:"slideBefore",value:function(){this.swiper.slideTo(0)}},{key:"slideAfter",value:function(){this.swiper.slideTo(2)}},{key:"close",value:function(){this.swiper.slideTo(1)}},{key:"destory",value:function(){this.clearAll(),this.swiper&&this.swiper.destroy()}},{key:"remove",value:function(){this.destory(),this.el.parentElement.removeChild(this.el)}},{key:"removeAnimation",value:function(i){var t=this;i.addEventListener("transitionEnd",function e(){i.removeEventListener("transitionEnd",e),t.remove()});var e=i.offsetHeight;i.style.transition="height 300ms linear",i.style.transform="translateZ(0)",i.style.height="".concat(e,"px"),setTimeout(function(){i.style.height=0},100)}},{key:"on",value:function(e,i){this.events.on(e,i)}},{key:"off",value:function(e,i){e?i?this.events.remove(e,i):this.events.clear(e):this.events.clearAll()}},{key:"clearAll",value:function(){this.events.clearAll()}}]),t}(),SwipeoutFactory={create:function(e,i){return new Swipeout(e,i)}},_default=SwipeoutFactory;exports.default=_default;
//# sourceMappingURL=swipeout.js.map
