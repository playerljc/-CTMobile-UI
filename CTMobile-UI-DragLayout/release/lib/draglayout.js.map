{"version":3,"sources":["draglayout.js"],"names":["_interopRequireDefault","require","Object","defineProperty","exports","value","default","_default","_classCallCheck2","_createClass2","STATUS_NOSWIPE","STATUS_SWIPE","SWIPE_FAST_DISTANCE","SWIPE_VERTICAL_DISTANCE","SWIPE_DURATION","clearTouchEventListener","this","masterDom","removeEventListener","onTouchmoveAction","onTouchendAction","noSwipe","callback","self","setTransform","slaveDom","setOpacity","swipeEnd","concat","masterScaleMixVal","scaleY","swipeWidth","swipe","distance","mTransitionX","mScaleY","sScaleX","setTransformOrigin","dataset","status","Math","abs","masterHeight","setTransitionByMasterAndSlave","duation","unit","setTransition","getMasterScaleMinValue","scaleX","masterWidth","dom","style","webkitTransform","MozTransform","msTransform","OTransform","transform","webkitTransition","MozTransition","msTransition","OTransition","transition","webkitTransformOrigin","MozTransformOrigin","msTransformOrigin","OTransformOrigin","transformOrigin","webkitOpacity","MozOpacity","msOpacity","OOpacity","opacity","onTouchstartAction","e","startTime","Date","endTime","startX","changedTouches","pageX","startY","pageY","endX","endY","isMove","scroll","call","addEventListener","swipeYDistance","parseInt","swipeXDistance","Number","config","showCallback","hideCallback","DragLayout","el","assign","querySelector","clientWidth","clientHeight","bind","key"],"mappings":"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","file":"draglayout.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = _default;\n\nvar _classCallCheck2 = _interopRequireDefault(require(\"@babel/runtime/helpers/classCallCheck\"));\n\nvar _createClass2 = _interopRequireDefault(require(\"@babel/runtime/helpers/createClass\"));\n\nvar STATUS_NOSWIPE = 'noswipe',\n    STATUS_SWIPE = 'swipe',\n    // 快速滑动时间\nSWIPE_FAST_DISTANCE = 1200,\n    // 滑动操作的最大距离\nSWIPE_VERTICAL_DISTANCE = 30,\n    // 滑动动画持续时间\nSWIPE_DURATION = '300';\n/**\r\n * clearTouchEventListener\r\n * @access private\r\n */\n\nfunction clearTouchEventListener() {\n  var self = this;\n  self.masterDom.removeEventListener('touchmove', onTouchmoveAction);\n  self.masterDom.removeEventListener('touchend', onTouchendAction);\n}\n/**\r\n * noSwipe\r\n * @access private\r\n * @param {Function} callback\r\n */\n\n\nfunction noSwipe(callback) {\n  var self = this;\n  setTransform(self.masterDom, 'scale(1,1) translate3d(0,0,0)');\n  setTransform(self.slaveDom, 'scale(0,0)');\n  setOpacity(self.slaveDom, '0');\n\n  if (callback) {\n    callback();\n  }\n}\n/**\r\n * swipeEnd\r\n * @access private\r\n * @param {Function} callback\r\n */\n\n\nfunction swipeEnd(callback) {\n  var self = this;\n  setTransform(self.masterDom, \"scale(1,\".concat(self.masterScaleMixVal.scaleY, \") translate3d(\").concat(self.swipeWidth, \"px,0,0)\"));\n  setTransform(self.slaveDom, 'scale(1,1)');\n  setOpacity(self.slaveDom, '1');\n\n  if (callback) {\n    callback();\n  }\n}\n/**\r\n * swipe\r\n * @access private\r\n * @param {number} distance\r\n */\n\n\nfunction swipe(distance) {\n  var self = this;\n  var mTransitionX = null;\n  var mScaleY = null;\n  var sScaleX = null;\n  setTransformOrigin(self.masterDom, 'right center');\n  setTransformOrigin(self.slaveDom, 'left center');\n\n  if (self.masterDom.dataset.status === STATUS_NOSWIPE) {\n    mTransitionX = Math.abs(distance);\n    mScaleY = 1 - Math.abs(distance) / self.masterHeight;\n    sScaleX = Math.abs(distance) / self.swipeWidth;\n  } else if (self.masterDom.dataset.status === STATUS_SWIPE) {\n    mTransitionX = self.swipeWidth + distance;\n    mScaleY = self.masterScaleMixVal.scaleY + Math.abs(distance) / self.masterHeight;\n    sScaleX = 1 - Math.abs(distance) / self.swipeWidth;\n  }\n\n  setTransform(self.masterDom, \"scale(1,\".concat(mScaleY, \") translate3d(\").concat(mTransitionX, \"px,0,0)\"));\n  setTransform(self.slaveDom, \"scale(\".concat(sScaleX, \")\"));\n  setOpacity(self.slaveDom, sScaleX);\n}\n/**\r\n * setTransitionByMasterAndSlave\r\n * @access private\r\n * @param {number} duation\r\n * @param {string} unit\r\n */\n\n\nfunction setTransitionByMasterAndSlave(duation, unit) {\n  var self = this;\n  var value = \"transform \".concat(duation).concat(unit, \" linear,opacity \").concat(duation).concat(unit, \" linear\");\n  setTransition(self.masterDom, value);\n  setTransition(self.slaveDom, value);\n}\n/**\r\n * 获取master缩放的最小值\r\n * @access private\r\n * @returns {{scaleX: number, scaleY: number}}\r\n */\n\n\nfunction getMasterScaleMinValue() {\n  var self = this;\n  return {\n    scaleX: 1 - self.swipeWidth / self.masterWidth,\n    scaleY: 1 - self.swipeWidth / self.masterHeight\n  };\n}\n/**\r\n * setTransform\r\n * @access private\r\n * @param {HTMLElement} dom\r\n * @param {string} value\r\n */\n\n\nfunction setTransform(dom, value) {\n  dom.style.webkitTransform = dom.style.MozTransform = dom.style.msTransform = dom.style.OTransform = dom.style.transform = value;\n}\n/**\r\n * setTransition\r\n * @access private\r\n * @param {HTMLElement} dom\r\n * @param {string} value\r\n */\n\n\nfunction setTransition(dom, value) {\n  dom.style.webkitTransition = dom.style.MozTransition = dom.style.msTransition = dom.style.OTransition = dom.style.transition = value;\n}\n/**\r\n * setTransformOrigin\r\n * @access private\r\n * @param {HTMLElement} dom\r\n * @param {string} value\r\n */\n\n\nfunction setTransformOrigin(dom, value) {\n  dom.style.webkitTransformOrigin = dom.style.MozTransformOrigin = dom.style.msTransformOrigin = dom.style.OTransformOrigin = dom.style.transformOrigin = value;\n}\n/**\r\n * setOpacity\r\n * @access private\r\n * @param {HTMLElement} dom\r\n * @param {string} value\r\n */\n\n\nfunction setOpacity(dom, value) {\n  dom.style.webkitOpacity = dom.style.MozOpacity = dom.style.msOpacity = dom.style.OOpacity = dom.style.opacity = value;\n}\n/**\r\n * onTouchstartAction\r\n * @access private\r\n * @param {Object} e\r\n */\n\n\nfunction onTouchstartAction(e) {\n  var self = this;\n  self.startTime = +new Date();\n  self.endTime = 0;\n  self.startX = e.changedTouches ? e.changedTouches[0].pageX : e.pageX;\n  self.startY = e.changedTouches ? e.changedTouches[0].pageY : e.pageY;\n  self.endX = 0;\n  self.endY = 0;\n  self.isMove = false;\n  self.scroll = false;\n  setTransitionByMasterAndSlave.call(self, '0', 'ms');\n  self.masterDom.addEventListener('touchmove', onTouchmoveAction);\n  self.masterDom.addEventListener('mousemove', onTouchmoveAction);\n  self.masterDom.addEventListener('touchend', onTouchendAction);\n  self.masterDom.addEventListener('mouseup', onTouchendAction);\n}\n/**\r\n * onTouchmoveAction\r\n * @access private\r\n * @param {Object} e\r\n */\n\n\nfunction onTouchmoveAction(e) {\n  var self = this;\n  self.endX = e.changedTouches ? e.changedTouches[0].pageX : e.pageX;\n  self.endY = e.changedTouches ? e.changedTouches[0].pageY : e.pageY;\n  var swipeYDistance = Math.abs(parseInt(self.endY) - parseInt(self.startY));\n  var swipeXDistance = Math.abs(parseInt(self.endX) - parseInt(self.startX));\n\n  if (swipeYDistance > SWIPE_VERTICAL_DISTANCE && swipeXDistance < SWIPE_VERTICAL_DISTANCE) {\n    // 如果滑动距离大于5则是滚动\n    self.isMove = false;\n    self.scroll = true;\n    return;\n  }\n\n  self.isMove = true;\n  var distance = parseInt(self.endX) - parseInt(self.startX);\n\n  if (self.masterDom.dataset.status === STATUS_NOSWIPE) {\n    // noswipe状态\n    if (distance <= 0) {\n      noSwipe.call(self);\n    } else if (Math.abs(distance) <= self.swipeWidth) {\n      swipe.call(self, distance);\n    } else {\n      swipeEnd.call(self);\n    }\n  } else if (self.masterDom.dataset.status === STATUS_SWIPE) {\n    // swipe状态\n    if (distance >= 0) {\n      swipeEnd.call(self);\n    } else if (Math.abs(distance) <= self.swipeWidth) {\n      swipe.call(self, distance);\n    } else {\n      noSwipe.call(self);\n    }\n  }\n}\n/**\r\n * onTouchendAction\r\n * @access private\r\n * @param {Object} e\r\n */\n\n\nfunction onTouchendAction(e) {\n  var self = this;\n\n  if (!self.isMove) {\n    self.masterDom.removeEventListener('touchmove', onTouchmoveAction);\n    self.masterDom.removeEventListener('mousemove', onTouchmoveAction);\n    self.masterDom.removeEventListener('touchend', onTouchendAction);\n    self.masterDom.removeEventListener('mouseup', onTouchendAction);\n\n    if (self.masterDom.dataset.status === STATUS_SWIPE) {\n      swipeEnd.call(self);\n    } else if (self.masterDom.dataset.status === STATUS_NOSWIPE) {\n      noSwipe.call(self);\n    }\n\n    return;\n  }\n\n  self.endX = e.changedTouches ? e.changedTouches[0].pageX : e.pageX;\n  self.endTime = +new Date();\n  var distance = parseInt(self.endX) - parseInt(self.startX);\n  setTransitionByMasterAndSlave.call(self, SWIPE_DURATION, 'ms');\n\n  if (self.masterDom.dataset.status === STATUS_NOSWIPE) {\n    // noswipe状态\n    if (distance <= 0) {\n      noSwipe.call(self);\n    } else if (Math.abs(distance) <= self.swipeWidth) {\n      if (Number(self.endTime) - Number(self.startTime) <= SWIPE_FAST_DISTANCE) {\n        // 快速滑动\n        swipeEnd.call(self, function () {\n          self.masterDom.dataset.status = STATUS_SWIPE;\n\n          if (self.config.showCallback) {\n            self.config.showCallback();\n          }\n        });\n      } else if (Math.abs(distance) >= self.swipeWidth / 2) {\n        // 滑过1/2\n        swipeEnd.call(self, function () {\n          self.masterDom.dataset.status = STATUS_SWIPE;\n\n          if (self.config.showCallback) {\n            self.config.showCallback();\n          }\n        });\n      } else {\n        // 没滑过1/2\n        noSwipe.call(self);\n      }\n    } else {\n      swipeEnd.call(self, function () {\n        self.masterDom.dataset.status = STATUS_SWIPE;\n\n        if (self.config.showCallback) {\n          self.config.showCallback();\n        }\n      });\n    }\n  } else if (self.masterDom.dataset.status === STATUS_SWIPE) {\n    // swipe状态\n    if (distance >= 0) {\n      swipeEnd.call(self);\n    } else if (Math.abs(distance) <= self.swipeWidth) {\n      // 快速滑动\n      if (Number(self.endTime) - Number(self.startTime) <= SWIPE_FAST_DISTANCE) {\n        noSwipe.call(self, function () {\n          self.masterDom.dataset.status = STATUS_NOSWIPE;\n\n          if (self.config.hideCallback) {\n            self.config.hideCallback();\n          }\n        });\n      } else if (Math.abs(distance) >= self.swipeWidth / 2) {\n        // 滑过1/2\n        noSwipe.call(self, function () {\n          self.masterDom.dataset.status = STATUS_NOSWIPE;\n\n          if (self.config.hideCallback) {\n            self.config.hideCallback();\n          }\n        });\n      } else {\n        // 没滑过1/2\n        swipeEnd.call(self);\n      }\n    } else {\n      noSwipe.call(self, function () {\n        self.masterDom.dataset.status = STATUS_NOSWIPE;\n\n        if (self.config.hideCallback) {\n          self.config.hideCallback();\n        }\n      });\n    }\n  }\n\n  clearTouchEventListener.call(self);\n}\n/**\r\n * DragLayout\r\n * @class DragLayout\r\n * @classdesc DragLayout\r\n */\n\n\nvar DragLayout =\n/*#__PURE__*/\nfunction () {\n  /**\r\n   * contrutor\r\n   * @param {HTMLElement} el父容器\r\n   * @param {Object} config\r\n   * {\r\n   *    showCallback {Function}\r\n   *    hideCallback {Function}\r\n   * }\r\n   */\n  function DragLayout(el, config) {\n    (0, _classCallCheck2.default)(this, DragLayout);\n    this.el = el;\n    this.config = Object.assign({}, config);\n    this.slaveDom = this.el.querySelector('.ct-draglayout-slave');\n    this.masterDom = this.el.querySelector('.ct-draglayout-master'); // 可滑动的宽度\n\n    this.swipeWidth = this.slaveDom.clientWidth;\n    this.masterWidth = this.masterDom.clientWidth;\n    this.masterHeight = this.masterDom.clientHeight;\n    this.masterScaleMixVal = getMasterScaleMinValue.call(this);\n\n    if (!this.masterDom.dataset.status) {\n      this.masterDom.dataset.status = STATUS_NOSWIPE;\n    }\n\n    onTouchstartAction = onTouchstartAction.bind(this);\n    onTouchmoveAction = onTouchmoveAction.bind(this);\n    onTouchendAction = onTouchendAction.bind(this);\n    this.masterDom.addEventListener('touchstart', onTouchstartAction);\n    this.masterDom.addEventListener('mousedown', onTouchstartAction);\n  }\n  /**\r\n   * show\r\n   */\n\n\n  (0, _createClass2.default)(DragLayout, [{\n    key: \"show\",\n    value: function show() {\n      var self = this;\n      setTransitionByMasterAndSlave.call(self, SWIPE_DURATION, 'ms');\n      swipeEnd.call(self, function () {\n        self.masterDom.dataset.status = STATUS_SWIPE;\n      });\n    }\n    /**\r\n     * hide\r\n     */\n\n  }, {\n    key: \"hide\",\n    value: function hide() {\n      var self = this;\n      setTransitionByMasterAndSlave.call(self, SWIPE_DURATION, 'ms');\n      noSwipe.call(self, function () {\n        self.masterDom.dataset.status = STATUS_NOSWIPE;\n      });\n    }\n    /**\r\n     * isShow\r\n     * @return {boolean}\r\n     */\n\n  }, {\n    key: \"isShow\",\n    value: function isShow() {\n      if (this.masterDom.dataset.status === STATUS_NOSWIPE) {\n        return false;\n      } else {\n        return true;\n      }\n    }\n  }]);\n  return DragLayout;\n}();\n/**\r\n * DragLayoutFactory\r\n * @param {HtmlElement} el\r\n * @param {Object} config\r\n * @return {DragLayout}\r\n */\n\n\nfunction _default(el, config) {\n  return new DragLayout(el, config);\n}"]}